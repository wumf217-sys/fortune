<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>8 — Self Insight Generator</title>

<style>
body{font-family:-apple-system,BlinkMacSystemFont,"Hiragino Sans","Yu Gothic","Segoe UI",Arial,sans-serif;background:#111;color:#fff;margin:0}
header{padding:18px 20px;text-align:center;border-bottom:1px solid #333}
.container{padding:16px}
button,select,input{font-size:16px}
input,select{padding:10px;border-radius:10px;border:1px solid #444;background:#000;color:#fff;width:100%;box-sizing:border-box}
label{font-size:13px;color:#aaa}
.action{margin-top:12px}
.primary{background:#17c964;border:0;border-radius:12px;padding:12px 14px;width:100%;font-weight:600}
.primary:active{opacity:.7}
.tabs{display:flex;overflow-x:auto;border-bottom:1px solid #333}
.tab{padding:10px 14px;white-space:nowrap;border-bottom:2px solid transparent}
.tab.active{border-color:#17c964}
.section{display:none;padding:14px 4px;line-height:1.68}
.section.active{display:block}
h2{margin:12px 0 6px;font-size:18px}
h3{margin:10px 0 4px;font-size:15px}
blockquote{border-left:3px solid #17c964;padding-left:10px;color:#ddd}
.note{color:#aaa;font-size:12px;margin-top:6px}
</style>
</head>

<body>
<header>
  <div style="font-size:20px;font-weight:700">8 — Insight Navigator</div>
  <div style="font-size:12px;color:#aaa">当たる／外れるを超えて「自分の物語を読み直す」ための占い</div>
</header>

<div class="container" id="formArea">
  <label>名前（ニックネーム可）</label>
  <input id="name" placeholder="例：たろう">

  <label>生年月日</label>
  <input id="birth" type="date">

  <div class="action">
    <button class="primary" onclick="start()">占う</button>
  </div>
  <div class="note">※ iPhoneでも動作するシンプル実装</div>
</div>

<div id="resultArea" style="display:none">

  <div class="tabs" id="tabs"></div>

  <div class="section" id="intro"></div>
  <div class="section" id="core"></div>
  <div class="section" id="surfaceDeep"></div>
  <div class="section" id="flow"></div>
  <div class="section" id="talents"></div>
  <div class="section" id="mission"></div>
  <div class="section" id="challenge"></div>
  <div class="section" id="theme"></div>

</div>

<script>
function tab(id){
  document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
  document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
  document.querySelector(`[data-t='${id}']`).classList.add("active");
  document.getElementById(id).classList.add("active");
}

function numPath(d){
  const n = d.replace(/-/g,"");
  let s = 0; for(let c of n) s += Number(c);
  while(s>9) s = (""+s).split("").map(Number).reduce((a,b)=>a+b);
  return s===9?8:s; // 9統合→8群へ
}

function start(){
  const name=document.getElementById("name").value.trim();
  const birth=document.getElementById("birth").value;
  if(!name||!birth){alert("名前と生年月日を入力してください");return;}

  const t = numPath(birth);

  // ---- ここに長文ロジック（分岐文章） ----
  // いまは「読み応えある基礎版」を固定で出す

  const intro = `
  <h2>総合 — 入口の物語</h2>
  <blockquote>
  あなたは今、「正解を当ててもらう」のではなく<br>
  <b>自分の歩いてきた道を別の角度から読み直したい</b><br>
  そんな地点に立っています。
  </blockquote>
  <p>
  この占いは未来を断定しません。<br>
  そのかわり——<b>視点を変えることで見えてくる“意味のつながり”</b>を照らします。<br>
  同じ出来事でも、角度を変えると違う物語として立ち上がる。<br>
  その感覚を、ここから一緒にたどっていきます。
  </p>`;

  const core = `
  <h2>あなたの核（性質・本質・潜在）</h2>
  <p>
  あなたの核は「<b>内側で熟成してから外へ出るタイプ</b>」。<br>
  すぐに答えを出すより、感じる・考える・寝かせる——<br>
  その過程の中で、本当の輪郭が整っていきます。
  </p>
  <p>
  評価されにくい時期があっても、それは停滞ではありません。<br>
  <b>地中で根が広がっている時間</b>。<br>
  外から見えないところで大事な準備が進んでいる、そんな核です。
  </p>`;

  const su = `
  <h2>表と裏（揺らぎと扱い方）</h2>
  <p>
  表の顔は「落ち着き・理解・受容」。<br>
  裏の顔は「抱え込み・過剰な自己責任」。<br>
  どちらも同じ源から生まれています。
  </p>
  <p>
  <b>ケアの合図</b>は「ひとりで何とかしようとしてしまう時」。<br>
  そのサインに気づけたら、少しだけ他者と分かち合う。<br>
  それだけで流れはやわらかく変わります。
  </p>`;

  const flow = `
  <h2>運気の流れ（これまで／今／これから）</h2>
  <h3>これまで</h3>
  <p>「試す・比べる・選び直す」の連続。遠回りに見えて、土台を厚くしてきた時間。</p>
  <h3>今</h3>
  <p><b>積み上げた内側を外へ翻訳する段階</b>。言語化・共有・形にする、がキーワード。</p>
  <h3>これから</h3>
  <p>出会いと循環が増えるフェーズ。<br>縁を選ぶ基準は「安心して呼吸できるか」。</p>`;

  const talents = `
  <h2>８つの才能（誰もが持っている内なる資質）</h2>
  <p>これは優劣ではなく<b>配置とバランス</b>の違いです。</p>
  <ul>
  <li>① 直感 — 空気を感じ取る感性</li>
  <li>② 理解 — 構造を読み解く知性</li>
  <li>③ 創造 — 形のないものを形にする力</li>
  <li>④ 継続 — 時間を味方にする粘り</li>
  <li>⑤ 共感 — 心を受け止める優しさ</li>
  <li>⑥ 実行 — 進める・決める推進力</li>
  <li>⑦ 調和 — 間を整えるバランス感覚</li>
  <li>⑧ 統合 — すべてをつなげ意味化する視点</li>
  </ul>
  <p>
  今のあなたは<b>⑦→⑧の領域が強く動きやすい時期</b>。<br>
  「まとめる・つなぐ・意味づける」行為が未来をひらきます。
  </p>`;

  const mission = `
  <h2>使命（この人生で磨いていくテーマ）</h2>
  <p>
  あなたの使命は、<br>
  <b>「分断された出来事を一つの物語として結び直す」</b>こと。<br>
  自分の経験も、誰かの痛みも、途中で切り捨てない。<br>
  その姿勢が周囲の心を救います。
  </p>`;

  const challenge = `
  <h2>課題（すれ違いやすいポイント）</h2>
  <p>
  優しさゆえに<b>境界線が曖昧になる</b>こと。<br>
  「ここから先は相手の領域」という線を持つほど、関係は健やかになります。
  </p>`;

  const theme = `
  <h2>人生のテーマ（まとめ）</h2>
  <blockquote>
  同じ場所をぐるぐる回っているように見えても——<br>
  視点を変えると、それは<b>螺旋のように少しずつ上へ</b>進んでいる。
  </blockquote>
  <p>
  これまでの選択も迷いも失敗も、無駄ではありませんでした。<br>
  ただ形を変えて、次の一歩の養分になっている。<br>
  ここからの道も、あなたの歩幅で大丈夫です。
  </p>`;

  const tabs = [
    ["intro","総合"],
    ["core","あなたの核"],
    ["surfaceDeep","表と裏"],
    ["flow","運気の流れ"],
    ["talents","８つの才能"],
    ["mission","使命"],
    ["challenge","課題"],
    ["theme","人生のテーマ"]
  ];

  document.getElementById("tabs").innerHTML =
    tabs.map(t=>`<div class="tab" data-t="${t[0]}" onclick="tab('${t[0]}')">${t[1]}</div>`).join("");

  document.getElementById("intro").innerHTML=intro;
  document.getElementById("core").innerHTML=core;
  document.getElementById("surfaceDeep").innerHTML=su;
  document.getElementById("flow").innerHTML=flow;
  document.getElementById("talents").innerHTML=talents;
  document.getElementById("mission").innerHTML=mission;
  document.getElementById("challenge").innerHTML=challenge;
  document.getElementById("theme").innerHTML=theme;

  document.getElementById("formArea").style.display="none";
  document.getElementById("resultArea").style.display="block";

  tab("intro");
}
</script>
</body>
</html>
