<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>統合占い｜8</title>

<style>
body{font-family:-apple-system,BlinkMacSystemFont,"Hiragino Kaku Gothic ProN",sans-serif;background:#0f1220;color:#fff;margin:0;padding:14px}
h1{text-align:center;margin-bottom:10px}
label{display:block;margin-top:10px}
input,select,button{width:100%;padding:10px;margin-top:6px;font-size:16px;border-radius:8px;border:none}
input,select{background:#0f1220;color:#fff;border:1px solid #333}
button{margin-top:16px;background:#6c7cff;color:#fff;font-size:18px}
.tabs{display:flex;gap:6px;overflow-x:auto;margin:16px 0}
.tab{padding:8px 14px;border-radius:20px;background:#24285a;white-space:nowrap;font-size:14px}
.tab.active{background:#6c7cff}
.section{display:none;background:#1b1f3a;padding:14px;border-radius:12px}
.section.active{display:block}
.section h2{font-size:17px;border-bottom:1px solid #444;padding-bottom:6px;margin-top:0}
.section h3{font-size:15px;margin-top:14px}
.section p{line-height:1.9;margin:8px 0}
.hr{height:1px;background:#2a2f66;margin:14px 0}
</style>
</head>

<body>

<h1>統合占い</h1>

<label>姓<input id="sei"></label>
<label>名<input id="mei"></label>
<label>生年月日<input type="date" id="birth"></label>
<label>性別
<select id="gender">
<option value="neutral">選択しない</option>
<option value="male">男性</option>
<option value="female">女性</option>
</select>
</label>

<button onclick="uranau()">占う</button>

<div class="tabs" id="tabs" style="display:none"></div>
<div id="sections"></div>

<script>
const tabsOrder=["統合","四柱","数秘","九星","西洋","姓名"];
let userType="C";

function calcType(dateStr){
  const n=dateStr.replaceAll("-","").split("").reduce((a,b)=>a+Number(b),0)%3;
  return ["A","B","C"][n];
}

const T={
統合:{
A:[
"あなたは今、感覚の精度がとても高い状態です。",
"違和感を無視しないことが、自然な選択になります。",
"答えを急がず、感じ切ること自体が前進です。"
],
B:[
"あなたは今、思考を整理し直す節目にいます。",
"理解できたものから順に、足場が安定していきます。",
"順序を整えることを自分に許してください。"
],
C:[
"あなたは今、全体を俯瞰できる位置にいます。",
"どちらかを切る必要はありません。",
"統合するまで保留にする判断が、正解です。"
]
},
四柱:{A:["流れを読む力が強まっています。","逆らわない選択が安定を生みます。","柔らかさが武器です。"],
B:["責任感が強く出やすい時。","一人で抱えなくていい。","役割を一段下ろすと楽になります。"],
C:["場全体を見る命式。","引く判断が整えます。","調整役に偏りすぎないで。"]},
数秘:{A:["直感が冴えています。","理由は後からついてきます。","感じたことを信頼して。"],
B:["秩序を求める数。","理解が安心につながります。","分からないまま進まない。"],
C:["全体性を示す数。","結ばない選択も正解。","余白を残して。"]},
九星:{A:["今は静の運気。","整えることが最優先。","焦らなくていい。"],
B:["段階運。","一歩ずつで十分。","飛ばさない。"],
C:["内側進行中。","止まって見えても前進。","外化は後。"]},
西洋:{A:["感情がナビになります。","無視しないで。","理由は後で。"],
B:["バランス調整期。","偏らないこと。","中庸が鍵。"],
C:["橋渡し配置。","翻訳者の役割。","伝え方を選んで。"]},
姓名:{A:["響きが感覚に作用。","説明不要。","伝わっています。"],
B:["役割を背負いやすい。","期待に注意。","断っていい。"],
C:["調整の名。","間に立つ力。","自分の位置を先に。"]}
};

function uranau(){
  if(!sei.value||!mei.value||!birth.value){alert("すべて入力してください");return;}
  userType=calcType(birth.value);

  const tabs=document.getElementById("tabs");
  const sections=document.getElementById("sections");
  tabs.innerHTML="";sections.innerHTML="";tabs.style.display="flex";

  tabsOrder.forEach((k,i)=>{
    const t=document.createElement("div");
    t.className="tab"+(i===0?" active":"");
    t.textContent=k;
    t.onclick=()=>selectTab(k);
    tabs.appendChild(t);

    const s=document.createElement("div");
    s.className="section"+(i===0?" active":"");
    s.dataset.k=k;

    let body=T[k][userType].map(p=>`<p>${p}</p>`).join("");

    if(k==="統合"){
      body+=`
      <div class="hr"></div>
      <h3>今のあなたへ</h3>
      <p>
      今回出た結果は、あなたを動かすためのものではありません。
      立ち止まっている自分を、否定しないための視点です。
      </p>
      <p>
      無理に変わらなくていい。
      ただ、自分の立ち位置を静かに確認できれば十分です。
      </p>
      <div class="hr"></div>
      <h3>今年のテーマ</h3>
      <p>広げるより、整える。量より配置。</p>
      <h3>今月の使い方</h3>
      <p>結論を急がず、保留を選んでください。</p>
      `;
    }

    s.innerHTML=`<h2>${k}</h2>`+body;
    sections.appendChild(s);
  });
}

function selectTab(k){
  document.querySelectorAll(".tab").forEach(t=>t.classList.toggle("active",t.textContent===k));
  document.querySelectorAll(".section").forEach(s=>s.classList.toggle("active",s.dataset.k===k));
}
</script>

</body>
</html>
