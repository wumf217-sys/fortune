<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>統合占い｜8</title>
<style>
body{
  font-family:-apple-system,BlinkMacSystemFont,"Hiragino Kaku Gothic ProN",sans-serif;
  background:#0f1220;color:#fff;margin:0;padding:14px
}
h1{text-align:center;font-size:20px}
label{display:block;margin-top:10px}
input,button{
  width:100%;padding:10px;margin-top:6px;font-size:16px;
  border-radius:8px;border:none
}
input{background:#0f1220;color:#fff;border:1px solid #333}
button{margin-top:16px;background:#6c7cff;color:#fff;font-size:18px}
.tabs{display:flex;gap:6px;overflow-x:auto;margin:16px 0}
.tab{
  padding:8px 14px;border-radius:20px;
  background:#24285a;white-space:nowrap;font-size:14px
}
.tab.active{background:#6c7cff}
.section{
  display:none;background:#1b1f3a;
  padding:14px;border-radius:12px
}
.section.active{display:block}
.section h2{
  font-size:17px;border-bottom:1px solid #444;
  padding-bottom:6px;margin-top:0
}
.section h3{
  font-size:15px;margin-top:22px;
  border-left:4px solid #6c7cff;
  padding-left:8px
}
.section p{line-height:2.0;margin:12px 0}
.small{opacity:.75;font-size:13px}
</style>
</head>

<body>

<h1>統合占い</h1>

<label>姓<input id="sei"></label>
<label>名<input id="mei"></label>
<label>生年月日<input type="date" id="birth"></label>

<button onclick="uranau()">占う</button>

<div class="tabs" id="tabs" style="display:none"></div>
<div id="sections"></div>

<script>
const tabsOrder=["総合","西洋"];

function typeOf(d){
 const n=d.replaceAll("-","").split("").reduce((a,b)=>a+Number(b),0)%5;
 return ["A","B","C","D","E"][n];
}

const TYPE={
A:"感覚・直感",
B:"思考・構造",
C:"統合・俯瞰",
D:"実行・現実",
E:"内省・探求"
};

function pick(arr){
 return arr[Math.floor(Math.random()*arr.length)];
}

const TEXT={
総合:{
A:{
core:[
"あなたの本質は、言葉になる前の違和感や空気を正確に捉える感覚にあります。説明できなくても、方向としては間違えない人です。"
],
front:[
"表では柔らかく、相手に合わせられる人に見られやすいでしょう。"
],
back:[
"裏では非常にシビアで、自分の感覚が正しいかどうかを何度も確認しています。"
],
value:[
"無意識に大切にしているのは『自然さ』。無理がある状態を、心がすぐ察知します。"
],
pitfall:[
"周囲に合わせすぎると、自分の感覚を後回しにしてしまう点がつまずきやすさです。"
],
pattern:[
"整える役に回りやすく、自分の番が後になる流れを繰り返しがちです。"
],
theme:[
"人生のテーマは『歪みを正すこと』。大きく変えるより、正しい位置に戻します。"
],
end:[
"あなたの感覚は、世界を静かに整えています。信じて大丈夫です。"
]
},
B:{
core:[
"あなたの本質は、物事を構造として捉え、再現可能な形に落とし込む力です。"
],
front:[
"表では冷静で理性的な人に見られやすいでしょう。"
],
back:[
"裏では失敗を極端に嫌い、準備不足を自分に許しません。"
],
value:[
"無意識に大切にしているのは『筋が通っていること』。曖昧さに強い違和感を覚えます。"
],
pitfall:[
"考えすぎて動きが遅くなることがあります。"
],
pattern:[
"整ってから動こうとして、機会を見送る流れを経験しがちです。"
],
theme:[
"人生のテーマは『仕組みを作ること』。混乱を形に変えます。"
],
end:[
"あなたの思考は、安心と安定を生み出します。"
]
},
C:{
core:[
"あなたの本質は、全体を俯瞰し、調和点を見つける力です。"
],
front:[
"表では穏やかで、相談役になりやすいでしょう。"
],
back:[
"裏では自分の感情を後回しにしがちです。"
],
value:[
"無意識に大切にしているのは『バランス』。極端さを嫌います。"
],
pitfall:[
"自分の本音が分からなくなることがあります。"
],
pattern:[
"調整役として立ち続け、自分を置き去りにする流れを繰り返しやすいです。"
],
theme:[
"人生のテーマは『つなぐこと』。分断を和らげます。"
],
end:[
"あなたがいることで、場は自然に整います。"
]
},
D:{
core:[
"あなたの本質は、現実を動かす行動力です。"
],
front:[
"表では頼もしく、決断力がある人に見られます。"
],
back:[
"裏では迷いを見せずに抱え込む傾向があります。"
],
value:[
"無意識に大切にしているのは『結果』。動いた実感が必要です。"
],
pitfall:[
"勢いで進みすぎ、後から調整が必要になることがあります。"
],
pattern:[
"動いてから考える流れを何度も経験します。"
],
theme:[
"人生のテーマは『停滞を動かすこと』。"
],
end:[
"あなたの一歩が、現実を変えます。"
]
},
E:{
core:[
"あなたの本質は、内面を深く掘り下げ、本質を探る力です。"
],
front:[
"表では控えめで静かに見られがちです。"
],
back:[
"裏では思考が止まらず、常に問い続けています。"
],
value:[
"無意識に大切にしているのは『意味』。理由のない選択が苦手です。"
],
pitfall:[
"考えすぎて孤立感を覚えることがあります。"
],
pattern:[
"深く考えすぎて、行動が遅れる流れを経験しやすいです。"
],
theme:[
"人生のテーマは『深めること』。"
],
end:[
"あなたの探究は、確かな道を照らします。"
]
}
},
西洋:{
A:[
"あなたの星は直感と感情の連動を示しています。"
]
}
};

function uranau(){
 if(!sei.value||!mei.value||!birth.value){
   alert("すべて入力してください");return;
 }
 const t=typeOf(birth.value);
 const tabs=document.getElementById("tabs");
 const sec=document.getElementById("sections");
 tabs.innerHTML="";sec.innerHTML="";
 tabs.style.display="flex";

 tabsOrder.forEach((k,i)=>{
  const tb=document.createElement("div");
  tb.className="tab"+(i===0?" active":"");
  tb.textContent=k;
  tb.onclick=()=>selectTab(k);
  tabs.appendChild(tb);

  const s=document.createElement("div");
  s.className="section"+(i===0?" active":"");
  s.dataset.k=k;

  if(k==="総合"){
    const d=TEXT.総合[t] || TEXT.総合["A"];
    s.innerHTML=`
      <h2>あなたはこういう人</h2>
      <p class="small">タイプ：${TYPE[t]}</p>

      <h3>本質（核）</h3><p>${pick(d.core)}</p>
      <h3>表に出やすい顔</h3><p>${pick(d.front)}</p>
      <h3>裏に隠れている顔</h3><p>${pick(d.back)}</p>
      <h3>無意識の価値観</h3><p>${pick(d.value)}</p>
      <h3>つまずきやすいポイント</h3><p>${pick(d.pitfall)}</p>
      <h3>繰り返しやすい人生パターン</h3><p>${pick(d.pattern)}</p>
      <h3>人生のテーマ</h3><p>${pick(d.theme)}</p>
      <p>${pick(d.end)}</p>
    `;
  } else {
    const arr=TEXT[k][t] || TEXT[k]["A"];
    let html=`<h2>${k}</h2><p class="small">タイプ：${TYPE[t]}</p>`;
    arr.forEach(p=>{ html+=`<p>${p}</p>`; });
    s.innerHTML=html;
  }
  sec.appendChild(s);
 });
}

function selectTab(k){
 document.querySelectorAll(".tab").forEach(t=>t.classList.toggle("active",t.textContent===k));
 document.querySelectorAll(".section").forEach(s=>s.classList.toggle("active",s.dataset.k===k));
}
</script>

</body>
</html>
