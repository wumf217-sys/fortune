<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>統合占い｜8</title>

<style>
body{font-family:-apple-system,BlinkMacSystemFont,"Hiragino Kaku Gothic ProN",sans-serif;background:#0f1220;color:#fff;margin:0;padding:14px}
h1{text-align:center;margin-bottom:10px}
label{display:block;margin-top:10px}
input,select,button{width:100%;padding:10px;margin-top:6px;font-size:16px;border-radius:8px;border:none}
input,select{background:#0f1220;color:#fff;border:1px solid #333}
button{margin-top:16px;background:#6c7cff;color:#fff;font-size:18px}
.tabs{display:flex;gap:6px;overflow-x:auto;margin:16px 0}
.tab{padding:8px 14px;border-radius:20px;background:#24285a;white-space:nowrap;font-size:14px}
.tab.active{background:#6c7cff}
.section{display:none;background:#1b1f3a;padding:14px;border-radius:12px}
.section.active{display:block}
.section h2{font-size:17px;border-bottom:1px solid #444;padding-bottom:6px;margin-top:0}
.section p{line-height:1.9;margin:8px 0}
.hr{height:1px;background:#2a2f66;margin:14px 0}
</style>
</head>

<body>

<h1>統合占い</h1>

<label>姓<input id="sei"></label>
<label>名<input id="mei"></label>
<label>生年月日<input type="date" id="birth"></label>
<label>性別
<select>
<option>選択しない</option>
<option>男性</option>
<option>女性</option>
</select>
</label>

<button onclick="uranau()">占う</button>

<div class="tabs" id="tabs" style="display:none"></div>
<div id="sections"></div>

<script>
const tabsOrder=["統合","四柱","数秘","九星","西洋","姓名"];
let userType="C";

function calcType(dateStr){
  const n=dateStr.replaceAll("-","").split("").reduce((a,b)=>a+Number(b),0)%5;
  return ["A","B","C","D","E"][n];
}

const TYPE={
A:"感覚・直感",
B:"思考・構造",
C:"統合・俯瞰",
D:"実行・現実",
E:"内省・探求"
};

const T={
統合:{
A:[
"あなたは感覚の精度が高く、違和感を見逃しません。",
"今は答えを出すより、感じ続けることに意味があります。",
"感覚が整えば、動く方向は自然に見えてきます。"
],
B:[
"あなたは物事を整理し、理解することで前に進みます。",
"混乱している部分を分けて考えることが助けになります。",
"順序を整えること自体が、今の前進です。"
],
C:[
"あなたは全体を俯瞰できる位置にいます。",
"どちらかを切る必要はなく、保留も立派な判断です。",
"統合されるまで待てる強さがあります。"
],
D:[
"あなたは現実的な一歩を積み重ねるタイプです。",
"考えすぎるより、試して調整する方が合っています。",
"動きながら整える感覚を信じてください。"
],
E:[
"あなたは内側を深く見つめる力を持っています。",
"急がず、意味が腑に落ちるまで待てます。",
"静かな時間が、次の展開を育てています。"
]
},
四柱:{
A:["流れに敏感な命式。","逆らわない選択が安定を生みます。"],
B:["役割意識が強め。","責任を分けると楽になります。"],
C:["場を見る命式。","引く判断が全体を整えます。"],
D:["行動で運を動かす命式。","小さな実行が鍵です。"],
E:["内面に運が集まりやすい命式。","静かな準備期間。"]
},
数秘:{
A:["直感的に意味を掴みます。","理由は後からで十分。"],
B:["秩序や法則に安心します。","理解が前進を助けます。"],
C:["循環や全体性を意識します。","結ばない選択も正解。"],
D:["結果を形にする数。","行動が数を活かします。"],
E:["内省的な数。","考える時間が力になります。"]
},
九星:{
A:["静の運気。","整えることが最優先。"],
B:["段階運。","一歩ずつで十分。"],
C:["内側進行中。","外化は少し先。"],
D:["動の運気。","試して修正が吉。"],
E:["停滞に意味がある時。","焦らないで。"]
},
西洋:{
A:["感情がナビ。","無視しないで。"],
B:["思考と感情の調整期。","中庸が鍵。"],
C:["橋渡し配置。","翻訳者の役割。"],
D:["現実志向が強まる配置。","実務が進みます。"],
E:["内面世界が広がる配置。","一人の時間を。"]
},
姓名:{
A:["響きが感覚に影響。","言葉にしなくていい。"],
B:["役割意識を強める名。","期待を背負いすぎない。"],
C:["調整役の名。","自分の位置を先に。"],
D:["実行力を後押しする名。","行動が評価されます。"],
E:["内省を深める名。","思索が強み。"]
}
};

function uranau(){
  if(!sei.value||!mei.value||!birth.value){alert("すべて入力してください");return;}
  userType=calcType(birth.value);

  const tabs=document.getElementById("tabs");
  const sections=document.getElementById("sections");
  tabs.innerHTML="";sections.innerHTML="";
  tabs.style.display="flex";

  tabsOrder.forEach((k,i)=>{
    const t=document.createElement("div");
    t.className="tab"+(i===0?" active":"");
    t.textContent=k;
    t.onclick=()=>selectTab(k);
    tabs.appendChild(t);

    const s=document.createElement("div");
    s.className="section"+(i===0?" active":"");
    s.dataset.k=k;
    s.innerHTML=`<h2>${k}</h2>`+
      T[k][userType].map(p=>`<p>${p}</p>`).join("")+
      `<div class="hr"></div>
       <p>※ あなたのタイプ：${TYPE[userType]}</p>`;
    sections.appendChild(s);
  });
}

function selectTab(k){
  document.querySelectorAll(".tab").forEach(t=>t.classList.toggle("active",t.textContent===k));
  document.querySelectorAll(".section").forEach(s=>s.classList.toggle("active",s.dataset.k===k));
}
</script>

</body>
</html>
