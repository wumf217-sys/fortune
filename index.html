<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>統合占い｜8</title>
<style>
body{
  font-family:-apple-system,BlinkMacSystemFont,"Hiragino Kaku Gothic ProN",sans-serif;
  background:#0f1220;color:#fff;margin:0;padding:14px
}
h1{text-align:center;font-size:20px}
label{display:block;margin-top:10px}
input,button{
  width:100%;padding:10px;margin-top:6px;font-size:16px;
  border-radius:8px;border:none
}
input{background:#0f1220;color:#fff;border:1px solid #333}
button{margin-top:16px;background:#6c7cff;color:#fff;font-size:18px}
.tabs{display:flex;gap:6px;overflow-x:auto;margin:16px 0}
.tab{
  padding:8px 14px;border-radius:20px;
  background:#24285a;white-space:nowrap;font-size:14px
}
.tab.active{background:#6c7cff}
.section{
  display:none;background:#1b1f3a;
  padding:14px;border-radius:12px
}
.section.active{display:block}
.section h2{
  font-size:17px;border-bottom:1px solid #444;
  padding-bottom:6px;margin-top:0
}
.section h3{
  font-size:15px;margin-top:18px;
  border-left:4px solid #6c7cff;
  padding-left:8px
}
.section p{line-height:2.0;margin:12px 0}
.small{opacity:.8;font-size:13px}
</style>
</head>

<body>

<h1>統合占い</h1>

<label>姓<input id="sei"></label>
<label>名<input id="mei"></label>
<label>生年月日<input type="date" id="birth"></label>

<button onclick="uranau()">占う</button>

<div class="tabs" id="tabs" style="display:none"></div>
<div id="sections"></div>

<script>
const tabsOrder=["総合","西洋"];

function typeOf(d){
 const n=d.replaceAll("-","").split("").reduce((a,b)=>a+Number(b),0)%5;
 return ["A","B","C","D","E"][n];
}

const TYPE={
A:"感覚・直感",
B:"思考・構造",
C:"統合・俯瞰",
D:"実行・現実",
E:"内省・探求"
};

function pick(arr){
 return arr[Math.floor(Math.random()*arr.length)];
}

const TEXT={
総合:{
A:{
intro:[
"今のあなたは、流れを読む感覚がとても鋭くなっています。無理に前へ進むより、整えることで次が見えてくる時期です。",
"静かに状況を観察しながら、自分にとって自然な位置を探している段階にあります。"
],
love:[
"人との関係では、近づきすぎず離れすぎない距離感が鍵になります。理解されることより、理解しようとする姿勢が縁を深めます。",
"共感力が高い分、相手の感情を抱え込みすぎないよう意識すると楽になります。"
],
money:[
"お金は増減よりも『どう使うか』が運気に影響します。心が納得する選択が、結果的に巡りを安定させます。",
"安心感を得られる使い方を優先するほど、金運は落ち着きます。"
],
work:[
"仕事では派手さより信頼が評価される時期です。あなたが自然にやっていることほど、周囲には価値があります。",
"役割を背負いすぎないことが、長く活躍するコツです。"
],
end:[
"今は焦らず、整え、選ぶ時。あなたの感覚を信じることで、次の流れは自然と動き出します。"
]
}
},

西洋:{
A:[
"あなたの星は、感情と直感を通して世界を理解する配置を示しています。",
"人間関係では共感力が強みですが、境界線を意識するとさらに楽になります。",
"金銭面では納得感を重視するほど運が安定します。",
"社会的には安心感を与える役割を担いやすいでしょう。"
]
}
};

function uranau(){
 if(!sei.value||!mei.value||!birth.value){
   alert("すべて入力してください");return;
 }
 const t=typeOf(birth.value);
 const tabs=document.getElementById("tabs");
 const sec=document.getElementById("sections");
 tabs.innerHTML="";sec.innerHTML="";
 tabs.style.display="flex";

 tabsOrder.forEach((k,i)=>{
  const tb=document.createElement("div");
  tb.className="tab"+(i===0?" active":"");
  tb.textContent=k;
  tb.onclick=()=>selectTab(k);
  tabs.appendChild(tb);

  const s=document.createElement("div");
  s.className="section"+(i===0?" active":"");
  s.dataset.k=k;

  if(k==="総合"){
    const d = TEXT.総合[t] || TEXT.総合["A"];
    s.innerHTML=`
      <h2>総合鑑定</h2>
      <p class="small">タイプ：${TYPE[t]}</p>

      <p>${pick(d.intro)}</p>

      <h3>人との関係（相性）</h3>
      <p>${pick(d.love)}</p>

      <h3>お金との向き合い方（金運）</h3>
      <p>${pick(d.money)}</p>

      <h3>社会での役割（仕事運）</h3>
      <p>${pick(d.work)}</p>

      <p>${pick(d.end)}</p>
    `;
  } else {
    const arr = TEXT[k][t] || TEXT[k]["A"];
    let html=`<h2>${k}</h2><p class="small">タイプ：${TYPE[t]}</p>`;
    arr.forEach(p=>{ html+=`<p>${p}</p>`; });
    s.innerHTML=html;
  }

  sec.appendChild(s);
 });
}

function selectTab(k){
 document.querySelectorAll(".tab").forEach(t=>t.classList.toggle("active",t.textContent===k));
 document.querySelectorAll(".section").forEach(s=>s.classList.toggle("active",s.dataset.k===k));
}
</script>

</body>
</html>
