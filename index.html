<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>統合占い｜8</title>
<style>
body{
  font-family:-apple-system,BlinkMacSystemFont,"Hiragino Kaku Gothic ProN",sans-serif;
  background:#0f1220;color:#fff;margin:0;padding:14px
}
h1{text-align:center;font-size:20px}
label{display:block;margin-top:10px}
input,button{
  width:100%;padding:10px;margin-top:6px;font-size:16px;
  border-radius:8px;border:none
}
input{background:#0f1220;color:#fff;border:1px solid #333}
button{margin-top:16px;background:#6c7cff;color:#fff;font-size:18px}
.tabs{display:flex;gap:6px;overflow-x:auto;margin:16px 0}
.tab{
  padding:8px 14px;border-radius:20px;
  background:#24285a;white-space:nowrap;font-size:14px
}
.tab.active{background:#6c7cff}
.section{
  display:none;background:#1b1f3a;
  padding:14px;border-radius:12px
}
.section.active{display:block}
.section h2{
  font-size:17px;border-bottom:1px solid #444;
  padding-bottom:6px;margin-top:0
}
.section h3{
  font-size:15px;margin-top:20px;
  border-left:4px solid #6c7cff;
  padding-left:8px
}
.section p{line-height:2.0;margin:12px 0}
.small{opacity:.75;font-size:13px}
</style>
</head>

<body>

<h1>統合占い</h1>

<label>姓<input id="sei"></label>
<label>名<input id="mei"></label>
<label>生年月日<input type="date" id="birth"></label>

<button onclick="uranau()">占う</button>

<div class="tabs" id="tabs" style="display:none"></div>
<div id="sections"></div>

<script>
const tabsOrder=["総合","西洋"];

function typeOf(d){
 const n=d.replaceAll("-","").split("").reduce((a,b)=>a+Number(b),0)%5;
 return ["A","B","C","D","E"][n];
}

const TYPE={
A:"感覚・直感",
B:"思考・構造",
C:"統合・俯瞰",
D:"実行・現実",
E:"内省・探求"
};

function pick(arr){
 return arr[Math.floor(Math.random()*arr.length)];
}

const TEXT={
総合:{
A:{
core:[
"あなたの本質は、言葉になる前の違和感や空気を正確に捉える感覚にあります。理由が説明できなくても、正しい方向を感じ取れる人です。",
"直感的でありながら雑ではなく、無意識のうちに全体の流れを読んでいます。"
],
front:[
"表では穏やかで柔らかく見られやすく、相手に合わせられる人だと思われがちです。",
"感情の機微を察するため、場を和ませる存在として認識されやすいでしょう。"
],
back:[
"裏ではかなりシビアで、自分の感覚がズレていないかを何度も確認しています。",
"本当は『適当に流す』ことができず、納得できないまま進むのが苦手です。"
],
theme:[
"人生のテーマは『整えること』。無理に変えるより、歪みを正す役割を担います。"
],
love:[
"対人関係では深く共感しますが、距離が近くなりすぎると疲れやすい傾向があります。"
],
money:[
"お金に対しては安心感重視。心が落ち着く使い方が最優先です。"
],
work:[
"仕事では空気調整役として力を発揮します。"
],
end:[
"あなたの感覚は信頼に値します。焦らず整えるほど、流れは自然に動き出します。"
]
},
B:{
core:[
"あなたの本質は、物事を構造として理解し、再現性のある形に落とし込む力にあります。",
"感情よりも仕組みを重視し、安定した結果を生み出します。"
],
front:[
"表では理性的で落ち着いた人に見られやすいでしょう。",
"説明が分かりやすく、信頼を得やすいタイプです。"
],
back:[
"裏では失敗を強く嫌い、準備不足を自分に許しません。",
"納得するまで考え続ける粘り強さがあります。"
],
theme:[
"人生のテーマは『組み立てること』。混乱を整理し形にします。"
],
love:[
"対人では会話と理解が重要になります。"
],
money:[
"金銭面では管理能力が強みです。"
],
work:[
"仕事では設計や改善で力を発揮します。"
],
end:[
"考え抜いた選択は、必ずあなたを守ります。"
]
},
C:{
core:[
"あなたの本質は、全体を俯瞰し、バランスを取る力にあります。",
"極端に偏らず、調和点を見つける人です。"
],
front:[
"表では落ち着いて見え、相談されやすい存在です。"
],
back:[
"裏では自分の感情を後回しにしがちです。"
],
theme:[
"人生のテーマは『つなぐこと』。人と人、考えと考えを結びます。"
],
love:[
"対人では調整役になりやすいでしょう。"
],
money:[
"金銭は循環を意識すると安定します。"
],
work:[
"仕事では橋渡し役が向いています。"
],
end:[
"あなたが立つことで、流れは整います。"
]
},
D:{
core:[
"あなたの本質は、考えるより先に動ける行動力です。",
"現実を変える力を持っています。"
],
front:[
"表では頼もしく、決断力のある人に見られます。"
],
back:[
"裏では迷いを見せずに抱え込むことがあります。"
],
theme:[
"人生のテーマは『動かすこと』。停滞を突破します。"
],
love:[
"対人では率直さが武器になります。"
],
money:[
"金運は動かすほど活性化します。"
],
work:[
"仕事では現場で力を発揮します。"
],
end:[
"行動が、次の景色を連れてきます。"
]
},
E:{
core:[
"あなたの本質は、内側を深く掘り下げ、本質を探る力です。",
"表面ではなく、意味を重視します。"
],
front:[
"表では静かで控えめに見られがちです。"
],
back:[
"裏では思考が非常に活発で、常に問い続けています。"
],
theme:[
"人生のテーマは『深めること』。本質に近づきます。"
],
love:[
"対人では深い理解を求めます。"
],
money:[
"金銭面では慎重さが強みです。"
],
work:[
"仕事では探究力が活きます。"
],
end:[
"内省の時間が、確かな道を照らします。"
]
}
},
西洋:{
A:[
"あなたの星は直感と感情の連動を示しています。",
"流れを感じ取る力が強い配置です。"
]
}
};

function uranau(){
 if(!sei.value||!mei.value||!birth.value){
   alert("すべて入力してください");return;
 }
 const t=typeOf(birth.value);
 const tabs=document.getElementById("tabs");
 const sec=document.getElementById("sections");
 tabs.innerHTML="";sec.innerHTML="";
 tabs.style.display="flex";

 tabsOrder.forEach((k,i)=>{
  const tb=document.createElement("div");
  tb.className="tab"+(i===0?" active":"");
  tb.textContent=k;
  tb.onclick=()=>selectTab(k);
  tabs.appendChild(tb);

  const s=document.createElement("div");
  s.className="section"+(i===0?" active":"");
  s.dataset.k=k;

  if(k==="総合"){
    const d=TEXT.総合[t] || TEXT.総合["A"];
    s.innerHTML=`
      <h2>あなたはこういう人</h2>
      <p class="small">タイプ：${TYPE[t]}</p>

      <h3>本質（核）</h3>
      <p>${pick(d.core)}</p>

      <h3>表に出やすい顔</h3>
      <p>${pick(d.front)}</p>

      <h3>裏に隠れている顔</h3>
      <p>${pick(d.back)}</p>

      <h3>人生のテーマ</h3>
      <p>${pick(d.theme)}</p>

      <h3>補足的な傾向</h3>
      <p>${pick(d.love)}</p>
      <p>${pick(d.money)}</p>
      <p>${pick(d.work)}</p>

      <p>${pick(d.end)}</p>
    `;
  } else {
    const arr=TEXT[k][t] || TEXT[k]["A"];
    let html=`<h2>${k}</h2><p class="small">タイプ：${TYPE[t]}</p>`;
    arr.forEach(p=>{ html+=`<p>${p}</p>`; });
    s.innerHTML=html;
  }
  sec.appendChild(s);
 });
}

function selectTab(k){
 document.querySelectorAll(".tab").forEach(t=>t.classList.toggle("active",t.textContent===k));
 document.querySelectorAll(".section").forEach(s=>s.classList.toggle("active",s.dataset.k===k));
}
</script>

</body>
</html>
